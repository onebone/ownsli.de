<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Morph Test</title>

		<link rel="stylesheet" href="/css/slide/editor.css">
		<style>
			.os-editor-slide-root {
				position: absolute;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
			}`
		</style>
		<script src="/js/common/include.js"></script>
		<script>
			var testMorph;
			var workspace;
			include({
				utils: '/js/common/utils.js',
				morph: '/js/slide/editor-morph.js',
				interact: '/interactjs/dist/interact.min.js'
			}, function(err){
				if(err) return console.error(err);
				workspace = document.body;

				testMorph = new morph($('.os-editor-slide-root div'), workspace);
			});

			var destroyMode = true;
			var toggleDestroy = function(button){
				if(destroyMode){
					testMorph.destroy();
					button.innerHTML = "Start Morphing!";
					destroyMode = false;
					return;
				}

				testMorph = new morph($('.os-editor-slide-root div'), workspace, true, function(){
					alert('Deleted!');
				});
				button.innerHTML = "Destroy!";
				destroyMode = true;
			};
		</script>
	</head>

	<body>
		<div class="os-editor-slide-root" style="position: absolute;">
			<div style="background: blue; width: 300px; height: 200px" data-os-x="0" data-os-y="0" data-os-z="0" data-os-width="300" data-os-height="200" data-os-rotation-x="0"  data-os-rotation-y="0"  data-os-rotation-z="0"></div>
		</div>
		<button style="position: fixed; top: 3rem; right: 3rem" type="button" onclick="toggleDestroy(this)">
			Destroy!
		</button>
	</body>
</html>
